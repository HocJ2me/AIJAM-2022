define("discourse/plugins/discourse-adplugin/discourse/adplugin-route-map",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("houseAds",{path:"/pluginad/house_creatives"},(function(){this.route("index",{path:"/"}),this.route("show",{path:"/:ad_id"})}))}}})),define("discourse/plugins/discourse-adplugin/discourse/components/ad-component",["exports","@ember/component","@ember/service","@ember/object/computed","discourse-common/utils/decorators","discourse/plugins/discourse-adplugin/discourse/helpers/slot-position"],(function(e,t,s,i,o,n){"use strict";var a,r,l,d,u;function c(e,t,s,i,o){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=t.default.extend((a=(0,o.default)("router.currentRoute.attributes.__type","router.currentRoute.attributes.id"),r=(0,o.default)("router.currentRoute.parent.attributes.archetype"),l=(0,o.default)("currentUser.groups"),d=(0,o.default)("currentCategoryId","topicTagsDisableAds","topicListTag","isPersonalMessage","isRestrictedCategory"),c(u={router:(0,s.inject)(),currentCategoryId:(0,i.or)("router.currentRoute.attributes.category.id","router.currentRoute.parent.attributes.category_id"),currentCategorySlug:(0,i.or)("router.currentRoute.attributes.category.slug","router.currentRoute.parent.attributes.category.slug"),topicTagsDisableAds:(0,i.alias)("router.currentRoute.parent.attributes.tags_disable_ads"),isRestrictedCategory:(0,i.or)("router.currentRoute.attributes.category.read_restricted","router.currentRoute.parent.attributes.category.read_restricted"),topicListTag:function(e,t){if("tag"===e&&t)return t},isPersonalMessage:function(e){return"private_message"===e},showToGroups:function(e){if(!this.currentUser||!e||!this.siteSettings.no_ads_for_groups||0===this.siteSettings.no_ads_for_groups.length)return!0;var t=this.siteSettings.no_ads_for_groups.split("|").filter(Boolean);return!e.map((function(e){return e.id.toString()})).any((function(e){return t.includes(e)}))},showOnCurrentPage:function(e,t,s,i,o){return!(t||e&&this.siteSettings.no_ads_for_categories&&this.siteSettings.no_ads_for_categories.split("|").includes(e.toString())||s&&this.siteSettings.no_ads_for_tags&&this.siteSettings.no_ads_for_tags.split("|").includes(s)||i&&this.siteSettings.no_ads_for_personal_messages||o&&this.siteSettings.no_ads_for_restricted_categories)},isNthPost:function(e){return(0,n.isNthPost)(e,this.get("postNumber"))},isNthTopicListItem:function(e){return(0,n.isNthTopicListItem)(e,this.get("indexNumber"))}},"topicListTag",[a],Object.getOwnPropertyDescriptor(u,"topicListTag"),u),c(u,"isPersonalMessage",[r],Object.getOwnPropertyDescriptor(u,"isPersonalMessage"),u),c(u,"showToGroups",[l],Object.getOwnPropertyDescriptor(u,"showToGroups"),u),c(u,"showOnCurrentPage",[d],Object.getOwnPropertyDescriptor(u,"showOnCurrentPage"),u),u));e.default=p})),define("discourse/plugins/discourse-adplugin/discourse/components/ad-slot",["exports","@ember/object","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","@ember/utils","discourse/plugins/discourse-adplugin/discourse/helpers/slot-position"],(function(e,t,s,i,o,n){"use strict";var a,r,l,d;function u(e,t,s,i,o){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.slotContenders=_;var c=t.default.create({"google-adsense":{settingPrefix:"adsense",enabledSetting:"adsense_publisher_code",nthPost:"adsense_nth_post_code"},"google-dfp-ad":{settingPrefix:"dfp",enabledSetting:"dfp_publisher_id",nthPost:"dfp_nth_post_code"},"amazon-product-links":{settingPrefix:"amazon",enabledSetting:!1,nthPost:"amazon_nth_post_code",desktop:{"topic-list-top":"amazon_topic_list_top_src_code","post-bottom":"amazon_post_bottom_src_code","topic-above-post-stream":"amazon_topic_above_post_stream_src_code","topic-above-suggested":"amazon_topic_above_suggested_src_code"},mobile:{"topic-list-top":"amazon_mobile_topic_list_top_src_code","post-bottom":"amazon_mobile_post_bottom_src_code","topic-above-post-stream":"amazon_mobile_topic_above_post_stream_src_code","topic-above-suggested":"amazon_mobile_topic_above_suggested_src_code"}},"carbonads-ad":{settingPrefix:"carbonads",enabledSetting:"carbonads_serve_id",desktop:{"topic-list-top":"carbonads_topic_list_top_enabled","post-bottom":!1,"topic-above-post-stream":"carbonads_above_post_stream_enabled","topic-above-suggested":!1}},"adbutler-ad":{settingPrefix:"adbutler",enabledSetting:"adbutler_publisher_id",desktop:{"topic-list-top":"adbutler_topic_list_top_zone_id","post-bottom":"adbutler_post_bottom_zone_id","topic-above-post-stream":"adbutler_topic_above_post_stream_zone_id","topic-above-suggested":"adbutler_topic_above_suggested_zone_id"},mobile:{"topic-list-top":"adbutler_mobile_topic_list_top_zone_id","post-bottom":"adbutler_mobile_post_bottom_zone_id","topic-above-post-stream":"adbutler_mobile_topic_above_post_stream_zone_id","topic-above-suggested":"adbutler_mobile_topic_above_suggested_zone_id"}}}),p={houseAds:0,allAds:0};function _(e,t,s,i,a){var r=[],l=e.get("house_creatives"),d=s.replace(/-/g,"_");if(l&&l.settings){var u=l.settings[d],p=Object.keys(l.creatives).length>0&&!(0,o.isBlank)(u),_=!a&&!i,g="topic_list_between"===d&&(0,n.isNthTopicListItem)(parseInt(l.settings.after_nth_topic,10),i);p&&(_||g||(0,n.isNthPost)(parseInt(l.settings.after_nth_post,10),a))&&r.push("house-ad")}return Object.keys(c).forEach((function(i){var l,u=c[i],p=null;(function(e,t){return!1===t||t&&!(0,o.isBlank)(e[t])})(t,u.enabledSetting)&&function(e,t,s){return!t||!s||(0,n.isNthPost)(parseInt(e[s],10),t)}(t,a,u.nthPost)&&((p=e.mobileView&&u.mobile||u.desktop)&&(l=p[s]),void 0===l&&(l="".concat(u.settingPrefix,"_").concat(e.mobileView?"mobile_":"").concat(d,"_code")),!1===l||!1===t[l]||(0,o.isBlank)(t[l])||r.push(i))})),r}var g=s.default.extend((a=(0,i.default)("placement","postNumber","indexNumber"),r=(0,i.observes)("refreshOnChange"),l=(0,i.default)("placement","availableAdTypes","needsUpdate"),u(d={needsUpdate:!1,tagName:"",availableAdTypes:function(e,t,s){return _(this.site,this.siteSettings,e,s,t)},changed:function(){this.get("listLoading")||this.notifyPropertyChange("needsUpdate")},adComponents:function(e,t){if(!t.includes("house-ad")||1===t.length)return t;var s=this.site.get("house_creatives"),i=!1;if(100===s.settings.house_ads_frequency)return["house-ad"];if(s.settings.house_ads_frequency>0){if(0===p.allAds||100*p.houseAds/p.allAds<s.settings.house_ads_frequency)return p.houseAds+=1,p.allAds+=1,["house-ad"];i=!0}var o=t.filter((function(e){return"house-ad"!==e}));return i&&(p.allAds+=o.length),o}},"availableAdTypes",[a],Object.getOwnPropertyDescriptor(d,"availableAdTypes"),d),u(d,"changed",[r],Object.getOwnPropertyDescriptor(d,"changed"),d),u(d,"adComponents",[l],Object.getOwnPropertyDescriptor(d,"adComponents"),d),d));e.default=g})),define("discourse/plugins/discourse-adplugin/discourse/components/adbutler-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","discourse/lib/load-script","rsvp","@ember/runloop","discourse-common/config/environment"],(function(e,t,s,i,o,n,a){"use strict";var r,l,d,u,c;function p(e,t,s,i,o){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=!1,g=null,m=0;var h=t.default.extend((r=(0,s.observes)("listLoading"),l=(0,s.default)("currentUser.trust_level"),d=(0,s.default)("publisherId","showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),u=(0,s.default)("postNumber"),p(c={divs:null,publisherId:null,init:function(){var e=[728,90],t="adbutler_",s="adbutler-",i="adbutler-ad";this.set("divs",[]),this.site.mobileView&&(e=[320,50],t+="mobile_",s+="mobile-",i="adbutler-mobile-ad"),t+=this.get("placement").replace(/-/g,"_")+"_zone_id",this.set("configKey",t),s+=this.get("placement"),this.set("className",s+" "+i);var o=this.siteSettings[t];this.set("zoneId",o);var n="placement-"+o+"-"+m;this.set("divId",n);var a=this.siteSettings.adbutler_publisher_id;this.set("publisherId",a),m++,this.divs.push({divId:n,publisherId:a,zoneId:o,dimensions:e}),this._super()},_triggerAds:function(){if(!(0,a.isTesting)()){var e=this.siteSettings.adbutler_adserver_hostname;(function(e){return _?o.default.resolve():g||(g=(0,i.default)("https://"+e+"/app.js",{scriptTag:!0}).then((function(){_=!0})))})(e).then(function(){if(this.divs.length>0){var t=window.abkw||"";window.AdButler.ads.push({handler:function(e){window.AdButler.register(e.place.publisherId,e.place.zoneId,e.place.dimensions,e.place.divId,e)},opt:{place:this.divs.pop(),keywords:t,domain:e,click:"CLICK_MACRO_PLACEHOLDER"}})}}.bind(this))}},didInsertElement:function(){this._super(),(0,n.scheduleOnce)("afterRender",this,this._triggerAds)},waitForLoad:function(){this.get("adRequested")||this.get("listLoading")||(0,n.scheduleOnce)("afterRender",this,this._triggerAds)},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.adbutler_through_trust_level)},showAd:function(e,t,s,i,o){return e&&t&&s&&i&&o},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.adbutler_nth_post,10))}},"waitForLoad",[r],Object.getOwnPropertyDescriptor(c,"waitForLoad"),c),p(c,"showToTrustLevel",[l],Object.getOwnPropertyDescriptor(c,"showToTrustLevel"),c),p(c,"showAd",[d],Object.getOwnPropertyDescriptor(c,"showAd"),c),p(c,"showAfterPost",[u],Object.getOwnPropertyDescriptor(c,"showAfterPost"),c),c));e.default=h})),define("discourse/plugins/discourse-adplugin/discourse/components/amazon-product-links",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","@ember/object/computed","@ember/template"],(function(e,t,s,i,o){"use strict";var n,a,r,l,d,u,c,p;function _(e,t,s,i,o){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var g=t.default.extend((n=(0,s.default)("amazon_width","amazon_height"),a=(0,s.default)("mobile_amazon_width","mobile_amazon_height"),r=(0,s.default)("mobile_amazon_width"),l=(0,s.default)("user_input"),d=(0,s.default)("user_input_mobile"),u=(0,s.default)("currentUser.trust_level"),c=(0,s.default)("postNumber"),_(p={classNames:["amazon-product-links"],showAd:(0,i.and)("showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),init:function(){var e={"topic-list-top":{},"topic-above-post-stream":{},"topic-above-suggested":{},"post-bottom":{}},t=this.site.get("mobileView"),s=this.get("placement");!t&&this.siteSettings.amazon_topic_list_top_src_code&&(e["topic-list-top"].user_input=this.siteSettings.amazon_topic_list_top_src_code,e["topic-list-top"].amazon_width=parseInt(this.siteSettings.amazon_topic_list_top_ad_width_code,10),e["topic-list-top"].amazon_height=parseInt(this.siteSettings.amazon_topic_list_top_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_topic_list_top_src_code&&(e["topic-list-top"].user_input_mobile=this.siteSettings.amazon_mobile_topic_list_top_src_code,e["topic-list-top"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_topic_list_top_ad_width_code,10),e["topic-list-top"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_topic_list_top_ad_height_code,10)),!t&&this.siteSettings.amazon_topic_above_post_stream_src_code&&(e["topic-above-post-stream"].user_input=this.siteSettings.amazon_topic_above_post_stream_src_code,e["topic-above-post-stream"].amazon_width=parseInt(this.siteSettings.amazon_topic_above_post_stream_ad_width_code,10),e["topic-above-post-stream"].amazon_height=parseInt(this.siteSettings.amazon_topic_above_post_stream_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_topic_above_post_stream_src_code&&(e["topic-above-post-stream"].user_input_mobile=this.siteSettings.amazon_mobile_topic_above_post_stream_src_code,e["topic-above-post-stream"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_topic_above_post_stream_ad_width_code,10),e["topic-above-post-stream"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_topic_above_post_stream_ad_height_code,10)),!t&&this.siteSettings.amazon_topic_above_suggested_src_code&&(e["topic-above-suggested"].user_input=this.siteSettings.amazon_topic_above_suggested_src_code,e["topic-above-suggested"].amazon_width=parseInt(this.siteSettings.amazon_topic_above_suggested_ad_width_code,10),e["topic-above-suggested"].amazon_height=parseInt(this.siteSettings.amazon_topic_above_suggested_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_topic_above_suggested_src_code&&(e["topic-above-suggested"].user_input_mobile=this.siteSettings.amazon_mobile_topic_above_suggested_src_code,e["topic-above-suggested"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_topic_above_suggested_ad_width_code,10),e["topic-above-suggested"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_topic_above_suggested_ad_height_code,10)),!t&&this.siteSettings.amazon_post_bottom_src_code&&(e["post-bottom"].user_input=this.siteSettings.amazon_post_bottom_src_code,e["post-bottom"].amazon_width=parseInt(this.siteSettings.amazon_post_bottom_ad_width_code,10),e["post-bottom"].amazon_height=parseInt(this.siteSettings.amazon_post_bottom_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_post_bottom_src_code&&(e["post-bottom"].user_input_mobile=this.siteSettings.amazon_mobile_post_bottom_src_code,e["post-bottom"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_post_bottom_ad_width_code,10),e["post-bottom"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_post_bottom_ad_height_code,10)),this.set("user_input",e[s].user_input),this.set("amazon_width",e[s].amazon_width),this.set("amazon_height",e[s].amazon_height),this.set("user_input_mobile",e[s].user_input_mobile),this.set("mobile_amazon_height",e[s].mobile_amazon_height),this.set("mobile_amazon_width",e[s].mobile_amazon_width),this._super()},adWrapperStyle:function(e,t){return(0,o.htmlSafe)("width: ".concat(e,"px; height: ").concat(t,"px;"))},adWrapperStyleMobile:function(e,t){return(0,o.htmlSafe)("width: ".concat(e,"px; height: ").concat(t,"px;"))},adTitleStyleMobile:function(e){return(0,o.htmlSafe)("width: ".concat(e,"px;"))},userInput:function(e){return(0,o.htmlSafe)("".concat(e))},userInputMobile:function(e){return(0,o.htmlSafe)("".concat(e))},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.amazon_through_trust_level)},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.amazon_nth_post_code,10))}},"adWrapperStyle",[n],Object.getOwnPropertyDescriptor(p,"adWrapperStyle"),p),_(p,"adWrapperStyleMobile",[a],Object.getOwnPropertyDescriptor(p,"adWrapperStyleMobile"),p),_(p,"adTitleStyleMobile",[r],Object.getOwnPropertyDescriptor(p,"adTitleStyleMobile"),p),_(p,"userInput",[l],Object.getOwnPropertyDescriptor(p,"userInput"),p),_(p,"userInputMobile",[d],Object.getOwnPropertyDescriptor(p,"userInputMobile"),p),_(p,"showToTrustLevel",[u],Object.getOwnPropertyDescriptor(p,"showToTrustLevel"),p),_(p,"showAfterPost",[c],Object.getOwnPropertyDescriptor(p,"showAfterPost"),p),p));e.default=g})),define("discourse/plugins/discourse-adplugin/discourse/components/carbonads-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","@ember/template"],(function(e,t,s,i){"use strict";var o,n,a,r;function l(e,t,s,i,o){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=t.default.extend((o=(0,s.default)("serve_id","placement"),n=(0,s.default)("currentUser.trust_level"),a=(0,s.default)("placement","serve_id","showToTrustLevel","showToGroups","showOnCurrentPage"),l(r={serve_id:null,placement:null,init:function(){this.set("serve_id",this.siteSettings.carbonads_serve_id),this.set("placement",this.siteSettings.carbonads_placement),this._super()},url:function(e,t){return(0,i.htmlSafe)("//cdn.carbonads.com/carbon.js?serve=".concat(e,"&placement=").concat(t))},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.carbonads_through_trust_level)},showAd:function(e,t,s,i,o){return e&&t&&s&&i&&o}},"url",[o],Object.getOwnPropertyDescriptor(r,"url"),r),l(r,"showToTrustLevel",[n],Object.getOwnPropertyDescriptor(r,"showToTrustLevel"),r),l(r,"showAd",[a],Object.getOwnPropertyDescriptor(r,"showAd"),r),r));e.default=d})),define("discourse/plugins/discourse-adplugin/discourse/components/google-adsense",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","discourse/lib/load-script","rsvp","@ember/runloop","discourse-common/config/environment","@ember/template"],(function(e,t,s,i,o,n,a,r){"use strict";var l,d,u,c,p,_,g,m,h,b,f;function v(e,t,s,i,o){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var w=!1,y=null,S={};var z={"topic-list-top":{code:"adsense_topic_list_top_code",sizes:"adsense_topic_list_top_ad_sizes"},"topic-above-post-stream":{code:"adsense_topic_above_post_stream_code",sizes:"adsense_topic_above_post_stream_ad_sizes"},"topic-above-suggested":{code:"adsense_topic_above_suggested_code",sizes:"adsense_topic_above_suggested_ad_sizes"},"post-bottom":{code:"adsense_post_bottom_code",sizes:"adsense_post_bottom_ad_sizes"}},P={"topic-list-top":{code:"adsense_mobile_topic_list_top_code",sizes:"adsense_mobile_topic_list_top_ad_size"},"topic-above-post-stream":{code:"adsense_mobile_topic_above_post_stream_code",sizes:"adsense_mobile_topic_above_post_stream_ad_size"},"topic-above-suggested":{code:"adsense_mobile_topic_above_suggested_code",sizes:"adsense_mobile_topic_above_suggested_ad_size"},"post-bottom":{code:"adsense_mobile_post_bottom_code",sizes:"adsense_mobile_post_bottom_ad_size"}},O=t.default.extend((l=(0,s.observes)("listLoading"),d=(0,s.default)("ad_width"),u=(0,s.default)("ad_width"),c=(0,s.default)("placement","showAd"),p=(0,s.default)("isResponsive","isFluid"),_=(0,s.default)("ad_width","ad_height","isResponsive"),g=(0,s.default)("adWrapperStyle","isResponsive"),m=(0,s.default)("currentUser.trust_level"),h=(0,s.default)("publisher_id","showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),b=(0,s.default)("postNumber"),v(f={classNameBindings:[":google-adsense","classForSlot","isResponsive:adsense-responsive"],loadedGoogletag:!1,publisher_id:null,ad_width:null,ad_height:null,adRequested:!1,init:function(){var e,t,s=this.get("placement");e=this.site.mobileView?P[s]:z[s],S[s]||(S[s]=0);var i=(this.siteSettings[e.sizes]||"").split("|");1===i.length?t=i[0]:(t=i[S[s]%i.length],S[s]+=1),this.set("ad_width",function(e){if("responsive"===e)return"auto";if(e.startsWith("fluid"))return"fluid";var t=parseInt(e.substring(0,3).trim(),10);return isNaN(t)?"auto":"".concat(t,"px")}(t)),this.set("ad_height",function(e){if("responsive"===e)return"auto";if(e.startsWith("fluid"))return"fluid";var t=parseInt(e.substring(4,7).trim(),10);return isNaN(t)?"auto":"".concat(t,"px")}(t)),this.set("ad_code",this.siteSettings[e.code]),this.set("publisher_id",this.siteSettings.adsense_publisher_code),this._super()},_triggerAds:function(){(0,a.isTesting)()||(this.set("adRequested",!0),function(){if(w)return o.default.resolve();if(y)return y;var e=("https:"===document.location.protocol?"https:":"http:")+"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";return y=(0,i.default)(e,{scriptTag:!0}).then((function(){w=!0}))}().then((function(){var e=window.adsbygoogle||[];try{e.push({})}catch(e){}})))},didInsertElement:function(){this._super(),this.get("showAd")&&(this.get("listLoading")||(0,n.scheduleOnce)("afterRender",this,this._triggerAds))},waitForLoad:function(){this.get("adRequested")||this.get("listLoading")||(0,n.scheduleOnce)("afterRender",this,this._triggerAds)},isResponsive:function(e){return["auto","fluid"].includes(e)},isFluid:function(e){return"fluid"===e},classForSlot:function(e,t){return t?(0,r.htmlSafe)("adsense-".concat(e)):""},autoAdFormat:function(e,t){return!!e&&(0,r.htmlSafe)(t?"fluid":"auto")},adWrapperStyle:function(e,t,s){return(0,r.htmlSafe)(s?"":"width: ".concat(e,"; height: ").concat(t,";"))},adInsStyle:function(e,t){return(0,r.htmlSafe)("display: ".concat(t?"block":"inline-block","; ").concat(e))},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.adsense_through_trust_level)},showAd:function(e,t,s,i,o){return e&&t&&s&&i&&o},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.adsense_nth_post_code,10))}},"waitForLoad",[l],Object.getOwnPropertyDescriptor(f,"waitForLoad"),f),v(f,"isResponsive",[d],Object.getOwnPropertyDescriptor(f,"isResponsive"),f),v(f,"isFluid",[u],Object.getOwnPropertyDescriptor(f,"isFluid"),f),v(f,"classForSlot",[c],Object.getOwnPropertyDescriptor(f,"classForSlot"),f),v(f,"autoAdFormat",[p],Object.getOwnPropertyDescriptor(f,"autoAdFormat"),f),v(f,"adWrapperStyle",[_],Object.getOwnPropertyDescriptor(f,"adWrapperStyle"),f),v(f,"adInsStyle",[g],Object.getOwnPropertyDescriptor(f,"adInsStyle"),f),v(f,"showToTrustLevel",[m],Object.getOwnPropertyDescriptor(f,"showToTrustLevel"),f),v(f,"showAd",[h],Object.getOwnPropertyDescriptor(f,"showAd"),f),v(f,"showAfterPost",[b],Object.getOwnPropertyDescriptor(f,"showAfterPost"),f),f));e.default=O})),define("discourse/plugins/discourse-adplugin/discourse/components/google-dfp-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","discourse/lib/load-script","@ember/object/computed","rsvp","discourse-common/config/environment","@ember/template"],(function(e,t,s,i,o,n,a,r){"use strict";var l,d,u,c,p,_,g,m,h,b,f,v;function w(e,t,s,i,o){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var y=!1,S=null,z={},P=1,O={};function j(e){return e.substring(4,7).trim()}function A(e){var t=e;return t=(t=t.replace(/['"]+/g,"")).split("\n")}var T={"topic-list-top":{code:"dfp_topic_list_top_code",sizes:"dfp_topic_list_top_ad_sizes",targeting_keys:"dfp_target_topic_list_top_key_code",targeting_values:"dfp_target_topic_list_top_value_code"},"topic-above-post-stream":{code:"dfp_topic_above_post_stream_code",sizes:"dfp_topic_above_post_stream_ad_sizes",targeting_keys:"dfp_target_topic_above_post_stream_key_code",targeting_values:"dfp_target_topic_above_post_stream_value_code"},"topic-above-suggested":{code:"dfp_topic_above_suggested_code",sizes:"dfp_topic_above_suggested_ad_sizes",targeting_keys:"dfp_target_topic_above_suggested_key_code",targeting_values:"dfp_target_topic_above_suggested_value_code"},"post-bottom":{code:"dfp_post_bottom_code",sizes:"dfp_post_bottom_ad_sizes",targeting_keys:"dfp_target_post_bottom_key_code",targeting_values:"dfp_target_post_bottom_value_code"}},E={"topic-list-top":{code:"dfp_mobile_topic_list_top_code",sizes:"dfp_mobile_topic_list_top_ad_sizes",targeting_keys:"dfp_target_topic_list_top_key_code",targeting_values:"dfp_target_topic_list_top_value_code"},"topic-above-post-stream":{code:"dfp_mobile_topic_above_post_stream_code",sizes:"dfp_mobile_topic_above_post_stream_ad_sizes",targeting_keys:"dfp_target_topic_above_post_stream_key_code",targeting_values:"dfp_target_topic_above_post_stream_value_code"},"topic-above-suggested":{code:"dfp_mobile_topic_above_suggested_code",sizes:"dfp_mobile_topic_above_suggested_ad_sizes",targeting_keys:"dfp_target_topic_above_suggested_key_code",targeting_values:"dfp_target_topic_above_suggested_value_code"},"post-bottom":{code:"dfp_mobile_post_bottom_code",sizes:"dfp_mobile_post_bottom_ad_sizes",targeting_keys:"dfp_target_post_bottom_key_code",targeting_values:"dfp_target_post_bottom_value_code"}};var M=t.default.extend((l=(0,s.default)("siteSettings.dfp_publisher_id","siteSettings.dfp_publisher_id_mobile","site.mobileView"),d=(0,s.default)("placement","postNumber"),u=(0,s.default)("placement","showAd"),c=(0,s.default)("width","height"),p=(0,s.default)("width"),_=(0,s.default)("publisherId","showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage","size"),g=(0,s.default)("currentUser.trust_level"),m=(0,s.default)("postNumber"),h=(0,s.on)("didUpdate"),b=(0,s.on)("didInsertElement"),f=(0,s.on)("willDestroyElement"),v={classNameBindings:["adUnitClass"],classNames:["google-dfp-ad"],loadedGoogletag:!1,refreshOnChange:null,lastAdRefresh:null,width:(0,o.alias)("size.width"),height:(0,o.alias)("size.height"),size:function(){return function(e,t,s){var i,o;i=s?E[e]:T[e],O[e]||(O[e]=0);var n=(t[i.sizes]||"").split("|");if(1===n.length?o=n[0]:(o=n[O[e]%n.length],O[e]+=1),"fluid"===o)return{width:"fluid",height:"fluid"};var a,r={width:parseInt((a=o,a.substring(0,3).trim()),10),height:parseInt(j(o),10)};return isNaN(r.width)||isNaN(r.height)?void 0:r}(this.get("placement"),this.siteSettings,this.site.mobileView)},publisherId:function(e,t,s){return s&&t||e},divId:function(e,t){var s=P++;return t?"div-gpt-ad-".concat(s,"-").concat(e,"-").concat(t):"div-gpt-ad-".concat(s,"-").concat(e)},adUnitClass:function(e,t){return t?"dfp-ad-".concat(e):""},adWrapperStyle:function(e,t){if("fluid"!==e)return(0,r.htmlSafe)("width: ".concat(e,"px; height: ").concat(t,"px;"))},adTitleStyleMobile:function(e){if("fluid"!==e)return(0,r.htmlSafe)("width: ".concat(e,"px;"))},showAd:function(e,t,s,i,o,n){return e&&t&&s&&i&&o&&n},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.dfp_through_trust_level)},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.dfp_nth_post_code,10))},shouldRefreshAd:function(){var e=this.get("lastAdRefresh");return!e||new Date-e>3e3},updated:function(){if(!this.get("listLoading")&&this.shouldRefreshAd()){var e=z[this.get("divId")];if(e&&e.ad){var t=e.ad,s=this.get("currentCategorySlug");this.get("loadedGoogletag")&&(this.set("lastAdRefresh",new Date),window.googletag.cmd.push((function(){t.setTargeting("discourse-category",s||"0"),window.googletag.pubads().refresh([t])})))}}},_initGoogleDFP:function(){var e=this;(0,a.isTesting)()||this.get("showAd")&&function(){if(y)return n.default.resolve();if(S)return S;var e=("https:"===document.location.protocol?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js";return S=(0,i.default)(e,{scriptTag:!0}).then((function(){y=!0,void 0===window.googletag&&console.log("googletag is undefined!"),window.googletag.cmd.push((function(){window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.enableServices()}))})),window.googletag=window.googletag||{cmd:[]},S}().then((function(){e.set("loadedGoogletag",!0),e.set("lastAdRefresh",new Date),window.googletag.cmd.push((function(){var t=function(e,t,s,i,o,n,a){var r,l,d;if(s.dfp_publisher_id)return z[e]||(i?(d=s.dfp_publisher_id_mobile||s.dfp_publisher_id,l=E[t]):(d=s.dfp_publisher_id,l=T[t]),r=window.googletag.defineSlot("/"+d+"/"+s[l.code],[o,n],e),function(e,t,s){for(var i=0;i<e.length;i++)e[i]&&s.setTargeting(e[i],t[i].replace(/ /g,"").replace(/['"]+/g,"").split(","))}(A(s[l.targeting_keys]),A(s[l.targeting_values]),r),a&&r.setTargeting("discourse-category",a),r.addService(window.googletag.pubads()),z[e]={ad:r,width:o,height:n}),z[e]}(e.get("divId"),e.get("placement"),e.siteSettings,e.site.mobileView,e.get("width"),e.get("height"),e.get("currentCategorySlug")||"0");t&&t.ad&&(window.googletag.display(e.get("divId")),window.googletag.pubads().refresh([t.ad]))}))}))},willRender:function(){this._super.apply(this,arguments),this.get("showAd")},cleanup:function(){var e;e=this.get("divId"),z[e]&&window.googletag&&(window.googletag.destroySlots([z[e].ad]),delete z[e])}},w(v,"size",[s.default],Object.getOwnPropertyDescriptor(v,"size"),v),w(v,"publisherId",[l],Object.getOwnPropertyDescriptor(v,"publisherId"),v),w(v,"divId",[d],Object.getOwnPropertyDescriptor(v,"divId"),v),w(v,"adUnitClass",[u],Object.getOwnPropertyDescriptor(v,"adUnitClass"),v),w(v,"adWrapperStyle",[c],Object.getOwnPropertyDescriptor(v,"adWrapperStyle"),v),w(v,"adTitleStyleMobile",[p],Object.getOwnPropertyDescriptor(v,"adTitleStyleMobile"),v),w(v,"showAd",[_],Object.getOwnPropertyDescriptor(v,"showAd"),v),w(v,"showToTrustLevel",[g],Object.getOwnPropertyDescriptor(v,"showToTrustLevel"),v),w(v,"showAfterPost",[m],Object.getOwnPropertyDescriptor(v,"showAfterPost"),v),w(v,"updated",[h],Object.getOwnPropertyDescriptor(v,"updated"),v),w(v,"_initGoogleDFP",[b],Object.getOwnPropertyDescriptor(v,"_initGoogleDFP"),v),w(v,"cleanup",[f],Object.getOwnPropertyDescriptor(v,"cleanup"),v),v));e.default=M})),define("discourse/plugins/discourse-adplugin/discourse/components/house-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","@ember/utils"],(function(e,t,s,i){"use strict";var o,n,a,r,l,d;function u(e,t,s,i,o){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c={topic_list_top:null,topic_above_post_stream:null,topic_above_suggested:null,post_bottom:null,topic_list_between:null},p=t.default.extend((o=(0,s.default)("placement","showAd"),n=(0,s.default)("showToGroups","showAfterPost","showAfterTopicListItem","showOnCurrentPage"),a=(0,s.default)("postNumber","placement"),r=(0,s.default)("placement"),l=(0,s.observes)("refreshOnChange"),d={classNames:["house-creative"],classNameBindings:["adUnitClass"],attributeBindings:["colspanAttribute:colspan"],adHtml:"",colspanAttribute:function(){return"td"===this.tagName?"5":null},adUnitClass:function(e,t){return t?"house-".concat(e):""},showAd:function(e,t,s,i){return e&&(t||s)&&i},showAfterPost:function(e,t){return!e&&"topic-list-between"!==t||this.isNthPost(parseInt(this.site.get("house_creatives.settings.after_nth_post"),10))},showAfterTopicListItem:function(e){return"topic-list-between"!==e||this.isNthTopicListItem(parseInt(this.site.get("house_creatives.settings.after_nth_topic"),10))},chooseAdHtml:function(){var e=this.site.get("house_creatives"),t=this.get("placement").replace(/-/g,"_"),s=this.adsNamesForSlot(t);if(s.length>0){c[t]||(c[t]=0);var i=e.creatives[s[c[t]]]||"";return c[t]=(c[t]+1)%s.length,i}return""},adsNamesForSlot:function(e){var t=this.site.get("house_creatives");if(!t||!t.settings)return[];var s=t.settings[e];return Object.keys(t.creatives).length>0&&!(0,i.isBlank)(s)?s.split("|"):[]},refreshAd:function(){this.get("listLoading")||this.set("adHtml",this.chooseAdHtml())},didInsertElement:function(){var e=this;this._super.apply(this,arguments),this.get("showAd")&&(this.get("listLoading")||(null===c.topic_list_top&&Object.keys(c).forEach((function(t){var s=e.adsNamesForSlot(t);c[t]=Math.floor(Math.random()*s.length)})),this.refreshAd()))}},u(d,"colspanAttribute",[s.default],Object.getOwnPropertyDescriptor(d,"colspanAttribute"),d),u(d,"adUnitClass",[o],Object.getOwnPropertyDescriptor(d,"adUnitClass"),d),u(d,"showAd",[n],Object.getOwnPropertyDescriptor(d,"showAd"),d),u(d,"showAfterPost",[a],Object.getOwnPropertyDescriptor(d,"showAfterPost"),d),u(d,"showAfterTopicListItem",[r],Object.getOwnPropertyDescriptor(d,"showAfterTopicListItem"),d),u(d,"refreshAd",[l],Object.getOwnPropertyDescriptor(d,"refreshAd"),d),d));e.default=p})),define("discourse/plugins/discourse-adplugin/discourse/components/house-ads-chooser",["exports","select-kit/components/multi-select","@ember/object"],(function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=Ember.makeArray,o=t.default.extend({classNames:["house-ads-chooser"],filterable:!0,filterPlaceholder:"admin.adplugin.house_ads.filter_placeholder",tokenSeparator:"|",allowCreate:!1,allowAny:!1,settingValue:"",valueAttribute:null,nameProperty:null,value:(0,s.computed)("settingValue",(function(){return this.settingValue.toString().split(this.tokenSeparator).filter(Boolean)})),mutateValues:function(e){this.set("settingValue",e.join(this.tokenSeparator))},computeValues:function(){return this.settingValue.split(this.tokenSeparator).filter(Boolean)},content:(0,s.computed)("choices",(function(){return i(this.choices)})),actions:{onChange:function(e){var t=i(e).join(this.tokenSeparator);this.attrs.onChange&&this.attrs.onChange(t)}}});e.default=o})),define("discourse/plugins/discourse-adplugin/discourse/components/house-ads-list-setting",["exports","discourse/plugins/discourse-adplugin/discourse/components/house-ads-setting","@ember/object/computed"],(function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t.default.extend({classNames:"house-ads-setting house-ads-list-setting",adNames:(0,s.mapBy)("allAds","name")});e.default=i})),define("discourse/plugins/discourse-adplugin/discourse/components/house-ads-setting",["exports","@ember/component","discourse/lib/ajax","discourse/lib/ajax-error","discourse/lib/computed","I18n"],(function(e,t,s,i,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t.default.extend({classNames:"house-ads-setting",adValue:"",saving:!1,savingStatus:"",title:(0,o.i18n)("name","admin.adplugin.house_ads.%@.title"),help:(0,o.i18n)("name","admin.adplugin.house_ads.%@.description"),changed:(0,o.propertyNotEqual)("adValue","value"),init:function(){this._super.apply(this,arguments),this.set("adValue",this.get("value"))},actions:{save:function(){var e=this;this.get("saving")||(this.setProperties({saving:!0,savingStatus:n.default.t("saving")}),(0,s.ajax)("/admin/plugins/pluginad/house_settings/".concat(this.get("name"),".json"),{type:"PUT",data:{value:this.get("adValue")}}).then((function(){e.get("adSettings").set(e.get("name"),e.get("adValue")),e.setProperties({value:e.get("adValue"),savingStatus:n.default.t("saved")})})).catch(i.popupAjaxError).finally((function(){e.setProperties({saving:!1,savingStatus:""})})))},cancel:function(){this.set("adValue",this.get("value"))}}});e.default=a})),define("discourse/plugins/discourse-adplugin/discourse/controllers/admin-plugins-house-ads-index",["exports","@ember/controller","@ember/object/computed"],(function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t.default.extend({adminPluginsHouseAds:(0,t.inject)("adminPlugins.houseAds"),houseAds:(0,s.alias)("adminPluginsHouseAds.model"),adSettings:(0,s.alias)("adminPluginsHouseAds.houseAdsSettings")});e.default=i})),define("discourse/plugins/discourse-adplugin/discourse/controllers/admin-plugins-house-ads-show",["exports","I18n","discourse/lib/ajax","discourse/lib/ajax-error","discourse/lib/computed","discourse/mixins/buffered-content","bootbox","@ember/controller","@ember/object/computed"],(function(e,t,s,i,o,n,a,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=r.default.extend((0,n.bufferedProperty)("model"),{adminPluginsHouseAds:(0,r.inject)("adminPlugins.houseAds"),saving:!1,savingStatus:"",nameDirty:(0,o.propertyNotEqual)("buffered.name","model.name"),htmlDirty:(0,o.propertyNotEqual)("buffered.html","model.html"),dirty:(0,l.or)("nameDirty","htmlDirty"),disableSave:(0,l.not)("dirty"),actions:{save:function(){var e=this;if(!this.get("saving")){this.setProperties({saving:!0,savingStatus:t.default.t("saving")});var o={},n=this.get("buffered"),a=!n.get("id");a||(o.id=n.get("id")),o.name=n.get("name"),o.html=n.get("html"),(0,s.ajax)(a?"/admin/plugins/pluginad/house_creatives":"/admin/plugins/pluginad/house_creatives/".concat(n.get("id")),{type:a?"POST":"PUT",data:o}).then((function(s){if(e.commitBuffer(),e.set("savingStatus",t.default.t("saved")),a){var i=e.get("model");i.set("id",s.house_ad.id);var o=e.get("adminPluginsHouseAds.model");o.includes(i)||o.pushObject(i),e.transitionToRoute("adminPlugins.houseAds.show",i.get("id"))}})).catch(i.popupAjaxError).finally((function(){e.setProperties({saving:!1,savingStatus:""})}))}},cancel:function(){this.rollbackBuffer()},destroy:function(){var e=this,i=this.get("adminPluginsHouseAds.model"),o=this.get("model");o.get("id")?(0,s.ajax)("/admin/plugins/pluginad/house_creatives/".concat(o.get("id")),{type:"DELETE"}).then((function(){i.removeObject(o),e.transitionToRoute("adminPlugins.houseAds.index")})).catch((function(){return a.default.alert(t.default.t("generic_error"))})):this.transitionToRoute("adminPlugins.houseAds.index")}}});e.default=d})),define("discourse/plugins/discourse-adplugin/discourse/controllers/admin-plugins-house-ads",["exports","@ember/controller"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t.default.extend({loadingAds:!0});e.default=s})),define("discourse/plugins/discourse-adplugin/discourse/helpers/slot-position",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNthPost=function(e,t){return!!(e&&e>0)&&t%e==0},e.isNthTopicListItem=function(e,t){return!!(e&&e>0&&t>0)&&(t+1)%e==0}})),define("discourse/plugins/discourse-adplugin/discourse/routes/admin-plugins-house-ads-index",["exports","discourse/routes/discourse","@ember/object"],(function(e,t,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,n,a,r,l,d,u=t.default.extend((o=i={moreSettings:function(){this.transitionTo("adminSiteSettingsCategory","ad_plugin")}},n="moreSettings",a=[s.action],r=Object.getOwnPropertyDescriptor(i,"moreSettings"),l=i,d={},Object.keys(r).forEach((function(e){d[e]=r[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=a.slice().reverse().reduce((function(e,t){return t(o,n,e)||e}),d),l&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(l):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(o,n,d),d=null),i));e.default=u})),define("discourse/plugins/discourse-adplugin/discourse/routes/admin-plugins-house-ads-show",["exports","discourse/routes/discourse","@ember/object","I18n"],(function(e,t,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t.default.extend({model:function(e){return"new"===e.ad_id?s.default.create({name:i.default.t("admin.adplugin.house_ads.new_name"),html:""}):this.modelFor("adminPlugins.houseAds").findBy("id",parseInt(e.ad_id,10))}});e.default=o})),define("discourse/plugins/discourse-adplugin/discourse/routes/admin-plugins-house-ads",["exports","discourse/lib/ajax","discourse/routes/discourse","@ember/object"],(function(e,t,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s.default.extend({settings:null,model:function(){var e=this;return(0,t.ajax)("/admin/plugins/pluginad/house_creatives.json").then((function(t){return e.set("settings",i.default.create(t.settings)),t.house_ads.map((function(e){return i.default.create(e)}))}))},setupController:function(e,t){e.setProperties({model:t,houseAdsSettings:this.get("settings"),loadingAds:!1})}});e.default=o})),Ember.TEMPLATES["javascripts/admin/plugins-house-ads-index"]=Ember.HTMLBars.template({id:null,block:'[[[6,[39,0],null,[["class"],["house-ads-settings content-body"]],[["default"],[[[[1,"  "],[10,0],[12],[1,[28,[35,1],["admin.adplugin.house_ads.description"],null]],[13],[1,"\\n\\n"],[41,[33,3,["length"]],[[[1,"    "],[10,"form"],[14,0,"form-horizontal"],[12],[1,"\\n      "],[1,[28,[35,4],null,[["name","value","allAds","adSettings"],["topic_list_top",[33,5,["topic_list_top"]],[33,3],[33,5]]]]],[1,"\\n      "],[1,[28,[35,4],null,[["name","value","allAds","adSettings"],["topic_above_post_stream",[33,5,["topic_above_post_stream"]],[33,3],[33,5]]]]],[1,"\\n      "],[1,[28,[35,4],null,[["name","value","allAds","adSettings"],["topic_above_suggested",[33,5,["topic_above_suggested"]],[33,3],[33,5]]]]],[1,"\\n      "],[1,[28,[35,4],null,[["name","value","allAds","adSettings"],["post_bottom",[33,5,["post_bottom"]],[33,3],[33,5]]]]],[1,"\\n      "],[1,[28,[35,4],null,[["name","value","allAds","adSettings"],["topic_list_between",[33,5,["topic_list_between"]],[33,3],[33,5]]]]],[1,"\\n\\n      "],[1,[28,[35,6],null,[["label","icon","class","action"],["admin.adplugin.house_ads.more_settings","cog","btn-default",[28,[37,7],["moreSettings"],null]]]]],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[10,2],[12],[1,"\\n"],[6,[39,8],null,[["route","model"],["adminPlugins.houseAds.show","new"]],[["default"],[[[[1,"        "],[1,[28,[35,1],["admin.adplugin.house_ads.get_started"],null]],[1,"\\n"]],[]]]]],[1,"    "],[13],[1,"\\n"]],[]]]],[]]]]]],[],false,["d-section","i18n","if","houseAds","house-ads-list-setting","adSettings","d-button","route-action","link-to"]]',moduleName:"javascripts/discourse/templates/admin/plugins-house-ads-index",isStrictMode:!1}),Ember.TEMPLATES["javascripts/admin/plugins-house-ads-show"]=Ember.HTMLBars.template({id:null,block:'[[[6,[39,0],null,[["class"],["edit-house-ad content-body"]],[["default"],[[[[1,"  "],[10,"h1"],[12],[1,[28,[35,1],null,[["class","value"],["house-ad-name",[33,2,["name"]]]]]],[13],[1,"\\n  "],[10,0],[14,0,"controls"],[12],[1,"\\n    "],[1,[28,[35,3],null,[["content","mode"],[[33,2,["html"]],"html"]]]],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"controls"],[12],[1,"\\n    "],[1,[28,[35,4],null,[["action","disabled","class","label"],[[28,[37,5],[[30,0],"save"],null],[33,6],"btn-primary","admin.adplugin.house_ads.save"]]]],[1,"\\n\\n"],[41,[33,8],[[[1,"      "],[1,[34,9]],[1,"\\n"]],[]],[[[41,[33,10],[[[1,"        "],[11,3],[24,6,""],[4,[38,5],[[30,0],"cancel"],null],[12],[1,[28,[35,11],["cancel"],null]],[13],[1,"\\n"]],[]],null]],[]]],[1,"\\n    "],[1,[28,[35,4],null,[["action","class","label"],[[28,[37,5],[[30,0],"destroy"],null],"btn-danger delete-button","admin.adplugin.house_ads.delete"]]]],[1,"\\n  "],[13],[1,"\\n"]],[]]]]]],[],false,["d-section","text-field","buffered","ace-editor","d-button","action","disableSave","if","saving","savingStatus","dirty","i18n"]]',moduleName:"javascripts/discourse/templates/admin/plugins-house-ads-show",isStrictMode:!1}),Ember.TEMPLATES["javascripts/admin/plugins-house-ads"]=Ember.HTMLBars.template({id:null,block:'[[[10,0],[14,0,"adplugin-mgmt"],[12],[1,"\\n  "],[10,"h1"],[12],[1,[28,[35,0],["admin.adplugin.house_ads.title"],null]],[13],[1,"\\n"],[41,[33,2,["length"]],[[[1,"    "],[10,0],[14,0,"content-list"],[12],[1,"\\n      "],[10,0],[14,0,"house-ads-actions"],[12],[1,"\\n"],[6,[39,3],null,[["class","route","model"],["btn btn-primary","adminPlugins.houseAds.show","new"]],[["default"],[[[[1,"          "],[1,[28,[35,4],["plus"],null]],[1,"\\n          "],[10,1],[12],[1,[28,[35,0],["admin.adplugin.house_ads.new"],null]],[13],[1,"\\n"]],[]]]]],[6,[39,3],null,[["class","route"],["btn btn-default","adminPlugins.houseAds.index"]],[["default"],[[[[1,"          "],[1,[28,[35,4],["cog"],null]],[1,"\\n          "],[10,1],[12],[1,[28,[35,0],["admin.adplugin.house_ads.settings"],null]],[13],[1,"\\n"]],[]]]]],[1,"      "],[13],[1,"\\n      "],[10,"ul"],[14,0,"house-ads-list"],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[33,2]],null]],null],null,[[[1,"          "],[10,"li"],[14,0,"house-ads-list-item"],[12],[1,"\\n"],[6,[39,3],null,[["route","model"],["adminPlugins.houseAds.show",[30,1,["id"]]]],[["default"],[[[[1,"              "],[1,[30,1,["name"]]],[1,"\\n"]],[]]]]],[1,"          "],[13],[1,"\\n"]],[1]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"  "],[46,[28,[37,8],null,null],null,null,null],[1,"\\n"],[13],[1,"\\n"]],["ad"],false,["i18n","if","model","link-to","d-icon","each","-track-array","component","-outlet"]]',moduleName:"javascripts/discourse/templates/admin/plugins-house-ads",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/ad-slot"]=Ember.HTMLBars.template({id:null,block:'[[[42,[28,[37,1],[[28,[37,1],[[33,2]],null]],null],null,[[[1,"  "],[46,[30,1],null,[["placement","refreshOnChange","category","listLoading","postNumber","indexNumber","tagName"],[[33,4],[33,5],[33,6],[33,7],[33,8],[33,9],[33,10]]],null],[1,"\\n"]],[1]],null]],["adComponent"],false,["each","-track-array","adComponents","component","placement","refreshOnChange","category","listLoading","postNumber","indexNumber","childTagName"]]',moduleName:"javascripts/discourse/templates/components/ad-slot",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/adbutler-ad"]=Ember.HTMLBars.template({id:null,block:'[[[41,[33,1],[[[1,"  "],[10,0],[15,1,[36,2]],[15,0,[36,3]],[12],[13],[1,"\\n"]],[]],null]],[],false,["if","showAd","divId","className"]]',moduleName:"javascripts/discourse/templates/components/adbutler-ad",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/amazon-product-links"]=Ember.HTMLBars.template({id:null,block:'[[[41,[33,1],[[[41,[33,2,["mobileView"]],[[[1,"    "],[10,0],[14,0,"amazon-product-links-label"],[15,5,[36,3]],[12],[10,"h2"],[12],[1,[28,[35,4],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n    "],[10,"iframe"],[15,5,[36,5]],[14,"marginwidth","0"],[14,"marginheight","0"],[14,"scrolling","no"],[14,"frameborder","0"],[15,"src",[36,6]],[15,"title",[28,[37,4],["adplugin.advertisement_label"],null]],[12],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[10,0],[14,0,"amazon-product-links-label"],[12],[10,"h2"],[12],[1,[28,[35,4],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n    "],[10,0],[14,0,"container"],[14,"align","center"],[12],[1,"\\n      "],[10,"iframe"],[15,5,[36,7]],[14,"marginwidth","0"],[14,"marginheight","0"],[14,"scrolling","no"],[14,"frameborder","0"],[15,"src",[36,8]],[15,"title",[28,[37,4],["adplugin.advertisement_label"],null]],[12],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]]]],[]],null]],[],false,["if","showAd","site","adTitleStyleMobile","i18n","adWrapperStyleMobile","userInputMobile","adWrapperStyle","userInput"]]',moduleName:"javascripts/discourse/templates/components/amazon-product-links",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/carbonads-ad"]=Ember.HTMLBars.template({id:null,block:'[[[41,[33,1],[[[1,"  "],[10,"script"],[15,"src",[36,2]],[14,1,"_carbonads_js"],[14,"async",""],[14,4,"text/javascript"],[12],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],false,["if","showAd","url"]]',moduleName:"javascripts/discourse/templates/components/carbonads-ad",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/google-adsense"]=Ember.HTMLBars.template({id:null,block:'[[[41,[33,1],[[[1,"  "],[10,0],[14,0,"google-adsense-label"],[12],[10,"h2"],[12],[1,[28,[35,2],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n  "],[10,0],[14,0,"google-adsense-content"],[15,5,[36,3]],[12],[1,"\\n    "],[10,"ins"],[14,0,"adsbygoogle"],[15,5,[36,4]],[15,"data-ad-client",[29,["ca-pub-",[36,5]]]],[15,"data-ad-slot",[36,6]],[15,"data-ad-format",[36,7]],[12],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],false,["if","showAd","i18n","adWrapperStyle","adInsStyle","publisher_id","ad_code","autoAdFormat"]]',moduleName:"javascripts/discourse/templates/components/google-adsense",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/google-dfp-ad"]=Ember.HTMLBars.template({id:null,block:'[[[41,[33,1],[[[41,[33,2,["mobileView"]],[[[1,"    "],[10,0],[14,0,"google-dfp-ad-label"],[15,5,[36,3]],[12],[10,"h2"],[12],[1,[28,[35,4],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n    "],[10,0],[15,1,[36,5]],[15,5,[36,6]],[14,0,"dfp-ad-unit"],[14,"align","center"],[12],[13],[1,"\\n"]],[]],[[[1,"    "],[10,0],[14,0,"google-dfp-ad-label"],[12],[10,"h2"],[12],[1,[28,[35,4],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n    "],[10,0],[15,1,[36,5]],[15,5,[36,6]],[14,0,"dfp-ad-unit"],[14,"align","center"],[12],[13],[1,"\\n"]],[]]]],[]],null]],[],false,["if","showAd","site","adTitleStyleMobile","i18n","divId","adWrapperStyle"]]',moduleName:"javascripts/discourse/templates/components/google-dfp-ad",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/house-ad"]=Ember.HTMLBars.template({id:null,block:'[[[41,[33,1],[[[1,"  "],[1,[28,[35,2],[[33,3]],null]],[1,"\\n"]],[]],null]],[],false,["if","showAd","html-safe","adHtml"]]',moduleName:"javascripts/discourse/templates/components/house-ad",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/house-ads-list-setting"]=Ember.HTMLBars.template({id:null,block:'[[[10,"label"],[15,"for",[36,0]],[12],[1,[34,1]],[13],[1,"\\n"],[1,[28,[35,2],null,[["settingValue","choices","onChange"],[[33,3],[33,4],[28,[37,5],[[30,0],[28,[37,6],[[33,3]],null]],null]]]]],[1,"\\n"],[10,0],[14,0,"setting-controls"],[12],[1,"\\n"],[41,[33,8],[[[1,"    "],[1,[28,[35,9],null,[["class","action","icon"],["ok",[28,[37,5],[[30,0],"save"],null],"check"]]]],[1,"\\n    "],[1,[28,[35,9],null,[["class","action","icon"],["cancel",[28,[37,5],[[30,0],"cancel"],null],"times"]]]],[1,"\\n"]],[]],null],[13],[1,"\\n"],[10,2],[14,0,"help"],[12],[1,[34,10]],[13],[1,"\\n"]],[],false,["name","title","house-ads-chooser","adValue","adNames","action","mut","if","changed","d-button","help"]]',moduleName:"javascripts/discourse/templates/components/house-ads-list-setting",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/house-ads-setting"]=Ember.HTMLBars.template({id:null,block:'[[[10,"label"],[15,"for",[36,0]],[12],[1,[34,1]],[13],[1,"\\n"],[1,[28,[35,2],null,[["value","classNames"],[[33,3],"house-ads-text-input"]]]],[1,"\\n"],[10,0],[14,0,"setting-controls"],[12],[1,"\\n"],[41,[33,5],[[[1,"    "],[1,[28,[35,6],null,[["class","action","icon"],["ok",[28,[37,7],[[30,0],"save"],null],"check"]]]],[1,"\\n    "],[1,[28,[35,6],null,[["class","action","icon"],["cancel",[28,[37,7],[[30,0],"cancel"],null],"times"]]]],[1,"\\n"]],[]],null],[13],[1,"\\n"],[10,2],[14,0,"help"],[12],[1,[34,8]],[13],[1,"\\n"]],[],false,["name","title","text-field","adValue","if","changed","d-button","action","help"]]',moduleName:"javascripts/discourse/templates/components/house-ads-setting",isStrictMode:!1}),Ember.TEMPLATES["javascripts/components/post-bottom-ad"]=Ember.HTMLBars.template({id:null,block:'[[[1,[28,[35,0],null,[["placement","category","postNumber"],["post-bottom",[33,1,["topic","category","slug"]],[33,1,["post_number"]]]]]],[1,"\\n"]],[],false,["ad-slot","model"]]',moduleName:"javascripts/discourse/templates/components/post-bottom-ad",isStrictMode:!1}),Ember.TEMPLATES["javascripts/connectors/after-topic-list-item/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'[[[1,[28,[35,0],null,[["placement","refreshOnChange","category","listLoading","indexNumber","childTagName"],["topic-list-between",[33,1],[33,2,["slug"]],[33,1],[33,3],"td"]]]],[1,"\\n"]],[],false,["ad-slot","listLoading","category","index"]]',moduleName:"javascripts/discourse/templates/connectors/after-topic-list-item/discourse-adplugin",isStrictMode:!1}),define("discourse/plugins/discourse-adplugin/discourse/templates/connectors/after-topic-list-item/discourse-adplugin",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-slot"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={shouldRender:function(e,s){return e.index&&(0,t.slotContenders)(s.site,s.siteSettings,"topic-list-between",e.index).length>0}};e.default=s})),Ember.TEMPLATES["javascripts/connectors/discovery-list-container-top/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'[[[1,[28,[35,0],null,[["placement","refreshOnChange","category","listLoading"],["topic-list-top",[33,1],[33,2,["slug"]],[33,1]]]]],[1,"\\n"]],[],false,["ad-slot","listLoading","category"]]',moduleName:"javascripts/discourse/templates/connectors/discovery-list-container-top/discourse-adplugin",isStrictMode:!1}),Ember.TEMPLATES["javascripts/connectors/post-bottom/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'[[[1,[28,[35,0],null,[["model"],[[30,0]]]]],[1,"\\n"]],[],false,["post-bottom-ad"]]',moduleName:"javascripts/discourse/templates/connectors/post-bottom/discourse-adplugin",isStrictMode:!1}),Ember.TEMPLATES["javascripts/connectors/topic-above-post-stream/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'[[[1,[28,[35,0],null,[["placement","refreshOnChange","category"],["topic-above-post-stream",[33,1,["id"]],[33,1,["category","slug"]]]]]],[1,"\\n"]],[],false,["ad-slot","model"]]',moduleName:"javascripts/discourse/templates/connectors/topic-above-post-stream/discourse-adplugin",isStrictMode:!1}),Ember.TEMPLATES["javascripts/connectors/topic-above-suggested/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'[[[1,[28,[35,0],null,[["placement","refreshOnChange","category"],["topic-above-suggested",[33,1,["id"]],[33,1,["category","slug"]]]]]],[1,"\\n"]],[],false,["ad-slot","model"]]',moduleName:"javascripts/discourse/templates/connectors/topic-above-suggested/discourse-adplugin",isStrictMode:!1}),define("discourse/plugins/discourse-adplugin/initializers/initialize-ad-plugin",["exports","discourse/lib/plugin-api","discourse/models/site"],(function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"initialize-ad-plugin",initialize:function(e){(0,t.withPluginApi)("0.1",(function(e){e.decorateWidget("post:after",(function(e){return e.canConnectComponent?e.attrs.cloaked?void 0:e.connect({component:"post-bottom-ad",context:"model"}):e.connect({templateName:"connectors/post-bottom/discourse-adplugin",context:"model"})}))}));var i=e.lookup("message-bus:main");i&&i.subscribe("/site/house-creatives",(function(e){s.default.currentProp("house_creatives",e)}))}};e.default=i}));
//# sourceMappingURL=discourse-adplugin-6d1bd3b9fa0e208a27ac7f40826b605fd9a69749ea9c56b5453c38c85294dfc6.js.map