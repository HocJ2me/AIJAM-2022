function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}define("discourse/plugins/discourse-local-dates/discourse/components/discourse-local-dates-create-form",["exports","discourse-common/utils/decorators","@ember/component","@ember/object","I18n","discourse-common/config/environment","rsvp","discourse/lib/text","discourse-common/lib/debounce","@ember/utils","discourse/lib/load-script","@ember/object/computed","discourse/lib/computed","@ember/runloop","discourse-common/lib/get-owner","discourse/lib/local-dates","discourse/plugins/discourse-local-dates/lib/local-date-markup-generator"],(function(e,t,n,r,o,a,i,l,s,c,u,d,m,f,p,h,v){"use strict";var y,g,z,b,_,w,T,D,k,P,O,L,S,j;function M(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var E=n.default.extend((y=(0,t.observes)("computedConfig.{from,to,options}","options","isValid","isRange"),g=(0,t.default)("date","toDate","toTime"),z=(0,t.default)("computedConfig","isRange"),b=(0,t.default)("date","time","isRange","options.{format,timezone}"),_=(0,t.default)("toDate","toTime","isRange","options.{timezone,format}"),w=(0,t.default)("recurring","timezones","timezone","format"),T=(0,t.default)("fromConfig.{date}","toConfig.{date}","options.{recurring,timezones,timezone,format}"),D=(0,t.default)("currentUserTimezone"),k=(0,t.default)("formats"),P=(0,t.default)("advancedMode"),O=(0,t.default)("computedConfig.{from,to,options}","options","isValid","isRange"),L=(0,t.default)("fromConfig.dateTime"),S=(0,t.default)("toConfig.dateTime","toSelected"),j={timeFormat:"HH:mm:ss",dateFormat:"YYYY-MM-DD",dateTimeFormat:"YYYY-MM-DD HH:mm:ss",date:null,toDate:null,time:null,toTime:null,format:null,formats:null,recurring:null,advancedMode:!1,timezone:null,fromSelected:null,fromFilled:(0,d.notEmpty)("date"),toSelected:null,toFilled:(0,d.notEmpty)("toDate"),init:function(){this._super.apply(this,arguments),this._picker=null,this.setProperties({timezones:[],formats:(this.siteSettings.discourse_local_dates_default_formats||"").split("|").filter((function(e){return e})),timezone:moment.tz.guess(),date:moment().format(this.dateFormat)})},didInsertElement:function(){var e=this;this._super.apply(this,arguments),this._setupPicker().then((function(t){e._picker=t,e.send("focusFrom")}))},_renderPreview:function(){(0,s.default)(this,(function(){var e=this,t=this.markup;t&&(0,l.cookAsync)(t).then((function(t){e.set("currentPreview",t),(0,f.schedule)("afterRender",(function(){(0,h.applyLocalDates)(document.querySelectorAll(".preview .discourse-local-date"),e.siteSettings)}))}))}),a.INPUT_DELAY)},isRange:function(e,t,n){return e&&(t||n)},isValid:function(e,t){var n=e.from;if(!e.from.dateTime||!e.from.dateTime.isValid())return!1;if(t){var r=e.to;if(!r.dateTime||!r.dateTime.isValid()||r.dateTime.diff(n.dateTime)<0)return!1}return!0},fromConfig:function(e,t,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!t;o=i?moment.tz(e,a.timezone):moment.tz("".concat(e," ").concat(t),a.timezone),i||(t=o.format(this.timeFormat));var l=a.format;return i&&this.formats.includes(l)&&(l="LL"),r.default.create({date:o.format(this.dateFormat),time:t,dateTime:o,format:l,range:!!n&&"start"})},toConfig:function(e,t,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!t;t&&!e&&(e=moment().format(this.dateFormat)),o=i?moment.tz(e,a.timezone).endOf("day"):moment.tz("".concat(e," ").concat(t),a.timezone),i||(t=o.format(this.timeFormat));var l=a.format;return i&&this.formats.includes(l)&&(l="LL"),r.default.create({date:o.format(this.dateFormat),time:t,dateTime:o,format:l,range:!!n&&"end"})},options:function(e,t,n,o){return r.default.create({recurring:e,timezones:t,timezone:n,format:o})},computedConfig:function(e,t,n){return r.default.create({from:e,to:t,options:n})},currentUserTimezone:function(){return moment.tz.guess()},allTimezones:function(){return moment.tz.names()},timezoneIsDifferentFromUserTimezone:(0,m.propertyNotEqual)("currentUserTimezone","options.timezone"),formattedCurrentUserTimezone:function(e){return e.replace("_"," ").replace("Etc/","").replace("/",", ")},previewedFormats:function(e){return e.map((function(e){return{format:e,preview:moment().format(e)}}))},recurringOptions:function(){var e="discourse_local_dates.create.form.recurring";return[{name:o.default.t("".concat(e,".every_day")),id:"1.days"},{name:o.default.t("".concat(e,".every_week")),id:"1.weeks"},{name:o.default.t("".concat(e,".every_two_weeks")),id:"2.weeks"},{name:o.default.t("".concat(e,".every_month")),id:"1.months"},{name:o.default.t("".concat(e,".every_two_months")),id:"2.months"},{name:o.default.t("".concat(e,".every_three_months")),id:"3.months"},{name:o.default.t("".concat(e,".every_six_months")),id:"6.months"},{name:o.default.t("".concat(e,".every_year")),id:"1.years"}]},_generateDateMarkup:function(e,t,n,r){return(0,v.default)(e,t,n,r)},toggleModeBtnLabel:function(e){return e?"discourse_local_dates.create.form.simple_mode":"discourse_local_dates.create.form.advanced_mode"},markup:function(e,t,n,r){var o;return n&&e.from&&(o=e.to&&e.to.range?this._generateDateMarkup(e.from,t,r,e.to):this._generateDateMarkup(e.from,t,r)),o},formattedFrom:function(e){return e.format("LLLL")},formattedTo:function(e,t){var n=t?"&nbsp;":o.default.t("discourse_local_dates.create.form.until");return e.isValid()?e.format("LLLL"):n},actions:{setTime:function(e){this._setTimeIfValid(e.target.value,"time")},setToTime:function(e){this._setTimeIfValid(e.target.value,"toTime")},eraseToDateTime:function(){this.setProperties({toDate:null,toTime:null}),this._setPickerDate(null)},focusFrom:function(){this.setProperties({fromSelected:!0,toSelected:!1}),this._setPickerDate(this.get("fromConfig.date")),this._setPickerMinDate(null)},focusTo:function(){this.setProperties({toSelected:!0,fromSelected:!1}),this._setPickerDate(this.get("toConfig.date")),this._setPickerMinDate(this.get("fromConfig.date"))},advancedMode:function(){this.toggleProperty("advancedMode")},save:function(){var e=this.markup;e&&(this._closeModal(),this.insertDate(e))},cancel:function(){this._closeModal()}},_setTimeIfValid:function(e,t){(0,c.isEmpty)(e)?this.set(t,null):/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/.test(e)&&this.set(t,e)},_setupPicker:function(){var e=this;return new i.Promise((function(t){(0,u.default)("/javascripts/pikaday.js").then((function(){var n={field:e.element.querySelector(".fake-input"),container:e.element.querySelector("#picker-container-".concat(e.elementId)),bound:!1,format:"YYYY-MM-DD",reposition:!1,firstDay:1,setDefaultDate:!0,keyboardInput:!1,i18n:{previousMonth:o.default.t("dates.previous_month"),nextMonth:o.default.t("dates.next_month"),months:moment.months(),weekdays:moment.weekdays(),weekdaysShort:moment.weekdaysMin()},onSelect:function(t){var n=moment(t).format("YYYY-MM-DD");e.fromSelected&&e.set("date",n),e.toSelected&&e.set("toDate",n)}};t(new Pikaday(n))}))}))},_setPickerMinDate:function(e){var t=this;e&&!moment(e,this.dateFormat).isValid()&&(e=null),(0,f.schedule)("afterRender",(function(){t._picker.setMinDate(moment(e,t.dateFormat).toDate())}))},_setPickerDate:function(e){var t=this;e&&!moment(e,this.dateFormat).isValid()&&(e=null),(0,f.schedule)("afterRender",(function(){t._picker.setDate(moment.utc(e),!0)}))},_closeModal:function(){(0,p.getOwner)(this).lookup("controller:composer").send("closeModal")}},M(j,"_renderPreview",[y],Object.getOwnPropertyDescriptor(j,"_renderPreview"),j),M(j,"isRange",[g],Object.getOwnPropertyDescriptor(j,"isRange"),j),M(j,"isValid",[z],Object.getOwnPropertyDescriptor(j,"isValid"),j),M(j,"fromConfig",[b],Object.getOwnPropertyDescriptor(j,"fromConfig"),j),M(j,"toConfig",[_],Object.getOwnPropertyDescriptor(j,"toConfig"),j),M(j,"options",[w],Object.getOwnPropertyDescriptor(j,"options"),j),M(j,"computedConfig",[T],Object.getOwnPropertyDescriptor(j,"computedConfig"),j),M(j,"currentUserTimezone",[t.default],Object.getOwnPropertyDescriptor(j,"currentUserTimezone"),j),M(j,"allTimezones",[t.default],Object.getOwnPropertyDescriptor(j,"allTimezones"),j),M(j,"formattedCurrentUserTimezone",[D],Object.getOwnPropertyDescriptor(j,"formattedCurrentUserTimezone"),j),M(j,"previewedFormats",[k],Object.getOwnPropertyDescriptor(j,"previewedFormats"),j),M(j,"recurringOptions",[t.default],Object.getOwnPropertyDescriptor(j,"recurringOptions"),j),M(j,"toggleModeBtnLabel",[P],Object.getOwnPropertyDescriptor(j,"toggleModeBtnLabel"),j),M(j,"markup",[O],Object.getOwnPropertyDescriptor(j,"markup"),j),M(j,"formattedFrom",[L],Object.getOwnPropertyDescriptor(j,"formattedFrom"),j),M(j,"formattedTo",[S],Object.getOwnPropertyDescriptor(j,"formattedTo"),j),j));e.default=E})),define("discourse/plugins/discourse-local-dates/discourse/controllers/discourse-local-dates-create-modal",["exports","@ember/controller","discourse/mixins/modal-functionality","@ember/runloop"],(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t.default.extend(n.default,{onShow:function(){(0,r.schedule)("afterRender",(function(){var e=document.getElementById("from-date-time");e&&e.focus()}))},onClose:function(){(0,r.schedule)("afterRender",(function(){var e=document.querySelector(".d-editor-button-bar .local-dates.btn");e&&e.focus()}))}});e.default=o})),Ember.TEMPLATES["javascripts/components/discourse-local-dates-create-form"]=Ember.HTMLBars.template({id:null,block:'[[[8,[39,0],null,[["@title","@class","@style"],["discourse_local_dates.title","discourse-local-dates-create-modal","overflow: auto"]],[["default"],[[[[1,"\\n\\n  "],[10,0],[14,0,"form"],[12],[1,"\\n"],[41,[30,0,["isValid"]],[[[41,[30,0,["timezoneIsDifferentFromUserTimezone"]],[[[1,"        "],[10,0],[14,0,"preview alert alert-info"],[12],[1,"\\n          "],[1,[28,[35,2],["discourse_local_dates.create.form.current_timezone"],null]],[1,"\\n          "],[10,"b"],[12],[1,[30,0,["formattedCurrentUserTimezone"]]],[13],[1,[30,0,["currentPreview"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"      "],[10,0],[14,0,"validation-error alert alert-error"],[12],[1,"\\n        "],[1,[28,[35,2],["discourse_local_dates.create.form.invalid_date"],null]],[1,"\\n      "],[13],[1,"\\n"]],[]]],[1,"\\n    "],[1,[30,0,["computeDate"]]],[1,"\\n\\n    "],[10,0],[14,0,"date-time-configuration"],[12],[1,"\\n      "],[10,0],[14,0,"inputs-panel"],[12],[1,"\\n        "],[10,0],[15,0,[29,["date-time-control from ",[52,[30,0,["fromSelected"]],"is-selected"]," ",[52,[30,0,["fromFilled"]],"is-filled"]]]],[12],[1,"\\n          "],[1,[28,[35,3],["calendar-alt"],null]],[1,"\\n          "],[8,[39,4],null,[["@id","@action","@translatedLabel","@class"],["from-date-time",[28,[37,5],[[30,0],"focusFrom"],null],[30,0,["formattedFrom"]],"date-time"]],null],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[15,0,[29,["date-time-control to ",[52,[30,0,["toSelected"]],"is-selected"]," ",[52,[30,0,["toFilled"]],"is-filled"]]]],[12],[1,"\\n          "],[1,[28,[35,3],["calendar-alt"],null]],[1,"\\n          "],[8,[39,4],null,[["@action","@translatedLabel","@class"],[[28,[37,5],[[30,0],"focusTo"],null],[30,0,["formattedTo"]],"date-time"]],null],[1,"\\n"],[41,[30,0,["toFilled"]],[[[1,"            "],[8,[39,4],[[16,"action",[28,[37,5],[[30,0],"eraseToDateTime"],null]]],[["@icon","@class"],["times","delete-to-date"]],null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n"],[41,[51,[30,0,["site","mobileView"]]],[[[1,"          "],[8,[39,7],null,[["@options","@value","@onChange"],[[28,[37,8],null,[["icon"],["globe"]]],[30,0,["timezone"]],[28,[37,5],[[30,0],[28,[37,9],[[30,0,["timezone"]]],null]],null]]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"picker-panel"],[12],[1,"\\n        "],[8,[39,10],[[24,0,"fake-input"]],null,null],[1,"\\n        "],[10,0],[14,0,"date-picker"],[15,1,[29,["picker-container-",[30,0,["elementId"]]]]],[12],[13],[1,"\\n\\n"],[41,[30,0,["fromSelected"]],[[[1,"          "],[10,0],[14,0,"time-pickers"],[12],[1,"\\n            "],[1,[28,[35,3],["far-clock"],null]],[1,"\\n            "],[8,[39,10],[[16,"maxlength",5],[24,"placeholder","hh:mm"],[24,0,"time-picker"],[4,[38,11],["input",[28,[37,5],[[30,0],"setTime"],null]],null]],[["@type","@value"],["time",[30,0,["time"]]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["toSelected"]],[[[41,[30,0,["toDate"]],[[[1,"            "],[10,0],[14,0,"time-pickers"],[12],[1,"\\n              "],[1,[28,[35,3],["far-clock"],null]],[1,"\\n              "],[8,[39,10],[[16,"maxlength",5],[24,"placeholder","hh:mm"],[24,0,"time-picker"],[4,[38,11],["input",[28,[37,5],[[30,0],"setToTime"],null]],null]],[["@type","@value"],["time",[30,0,["toTime"]]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"      "],[13],[1,"\\n\\n"],[41,[30,0,["site","mobileView"]],[[[1,"        "],[8,[39,7],null,[["@value","@options","@onChange"],[[30,0,["timezone"]],[28,[37,8],null,[["icon"],["globe"]]],[28,[37,5],[[30,0],[28,[37,9],[[30,0,["timezone"]]],null]],null]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n\\n"],[41,[30,0,["advancedMode"]],[[[1,"      "],[10,0],[14,0,"advanced-options"],[12],[1,"\\n"],[41,[51,[30,0,["isRange"]]],[[[1,"          "],[10,0],[14,0,"control-group recurrence"],[12],[1,"\\n            "],[10,"label"],[14,0,"control-label"],[12],[1,"\\n              "],[1,[28,[35,2],["discourse_local_dates.create.form.recurring_title"],null]],[1,"\\n            "],[13],[1,"\\n            "],[10,2],[12],[1,[28,[35,12],[[28,[37,2],["discourse_local_dates.create.form.recurring_description"],null]],null]],[13],[1,"\\n            "],[10,0],[14,0,"controls"],[12],[1,"\\n              "],[8,[39,13],null,[["@content","@class","@value","@onChange","@options"],[[30,0,["recurringOptions"]],"recurrence-input",[30,0,["recurring"]],[28,[37,5],[[30,0],[28,[37,9],[[30,0,["recurring"]]],null]],null],[28,[37,8],null,[["none"],["discourse_local_dates.create.form.recurring_none"]]]]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"control-group format"],[12],[1,"\\n          "],[10,"label"],[12],[1,[28,[35,2],["discourse_local_dates.create.form.format_title"],null]],[13],[1,"\\n          "],[10,2],[12],[1,"\\n            "],[1,[28,[35,2],["discourse_local_dates.create.form.format_description"],null]],[1,"\\n            "],[10,3],[14,"target","_blank"],[14,6,"https://momentjs.com/docs/#/parsing/string-format/"],[14,"rel","noopener noreferrer"],[12],[1,"\\n              "],[1,[28,[35,3],["question-circle"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"controls"],[12],[1,"\\n            "],[8,[39,14],null,[["@value","@class"],[[30,0,["format"]],"format-input"]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"control-group"],[12],[1,"\\n          "],[10,"ul"],[14,0,"formats"],[12],[1,"\\n"],[42,[28,[37,16],[[28,[37,16],[[30,0,["previewedFormats"]]],null]],null],null,[[[1,"              "],[10,"li"],[14,0,"format"],[12],[1,"\\n                "],[11,3],[24,0,"moment-format"],[24,6,""],[4,[38,5],[[30,0],[28,[37,9],[[30,0,["format"]]],null],[30,1,["format"]]],null],[12],[1,"\\n                  "],[1,[30,1,["format"]]],[1,"\\n                "],[13],[1,"\\n                "],[10,1],[14,0,"previewed-format"],[12],[1,"\\n                  "],[1,[30,1,["preview"]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n"]],[1]],null],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"control-group timezones"],[12],[1,"\\n          "],[10,"label"],[12],[1,[28,[35,2],["discourse_local_dates.create.form.timezones_title"],null]],[13],[1,"\\n          "],[10,2],[12],[1,[28,[35,2],["discourse_local_dates.create.form.timezones_description"],null]],[13],[1,"\\n          "],[10,0],[14,0,"controls"],[12],[1,"\\n            "],[8,[39,17],null,[["@valueProperty","@nameProperty","@class","@content","@value","@options"],[null,null,"timezones-input",[30,0,["allTimezones"]],[30,0,["timezones"]],[28,[37,8],null,[["allowAny","maximum"],[false,5]]]]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"]],[]]]]],[1,"\\n\\n"],[10,0],[14,0,"modal-footer discourse-local-dates-create-modal-footer"],[12],[1,"\\n"],[41,[30,0,["isValid"]],[[[1,"    "],[8,[39,4],null,[["@class","@action","@label"],["btn-primary",[28,[37,5],[[30,0],"save"],null],"discourse_local_dates.create.form.insert"]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[11,3],[24,0,"cancel-action"],[24,6,""],[4,[38,5],[[30,0],"cancel"],null],[12],[1,"\\n    "],[1,[28,[35,2],["cancel"],null]],[1,"\\n  "],[13],[1,"\\n\\n  "],[8,[39,4],null,[["@class","@action","@icon","@label"],["btn-default advanced-mode-btn",[28,[37,5],[[30,0],"advancedMode"],null],"cog",[30,0,["toggleModeBtnLabel"]]]],null],[1,"\\n"],[13],[1,"\\n"]],["previewedFormat"],false,["d-modal-body","if","i18n","d-icon","d-button","action","unless","timezone-input","hash","mut","input","on","html-safe","combo-box","text-field","each","-track-array","multi-select"]]',moduleName:"javascripts/discourse/templates/components/discourse-local-dates-create-form",isStrictMode:!1}),Ember.TEMPLATES["javascripts/modal/discourse-local-dates-create-modal"]=Ember.HTMLBars.template({id:null,block:'[[[8,[39,0],null,[["@config","@insertDate"],[[30,0,["config"]],[30,0,["insertDate"]]]],null],[1,"\\n"]],[],false,["discourse-local-dates-create-form"]]',moduleName:"javascripts/discourse/templates/modal/discourse-local-dates-create-modal",isStrictMode:!1}),define("discourse/plugins/discourse-local-dates/initializers/discourse-local-dates",["exports","discourse-common/lib/deprecated","discourse-common/lib/get-owner","../lib/local-date-builder","discourse/lib/plugin-api","discourse/lib/show-modal","discourse/lib/download-calendar","discourse-common/lib/icon-library","I18n","discourse/lib/d-popover","discourse/lib/to-markdown","discourse/plugins/discourse-local-dates/lib/local-date-markup-generator"],(function(e,t,n,r,o,a,i,l,s,c,u,d){"use strict";function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(t.discourse_local_dates_enabled){var n=moment.tz.guess();e.forEach((function(e){var o,a=h(e,t),i=new r.default(a,n).build();e.innerText="",e.insertAdjacentHTML("beforeend",'\n        <svg class="fa d-icon d-icon-globe-americas svg-icon" xmlns="http://www.w3.org/2000/svg">\n          <use href="#globe-americas"></use>\n        </svg>\n        <span class="relative-time">'.concat(i.formatted,"</span>\n      ")),e.setAttribute("aria-label",i.textPreview);var l=["cooked-date"];i.pastEvent&&l.push("past"),(o=e.classList).add.apply(o,l)}))}}function h(e,t){var n={},r=e.dataset;return 2===y(e).length&&(n.duration=function(e){var t=m(y(e).map((function(e){return e.dataset})),2),n=t[0],r=t[1],o=moment("".concat(n.date," ").concat(n.time||"").trim()),a=moment("".concat(r.date," ").concat(r.time||"").trim()).diff(o,"minutes");return e.dataset===n?a:-a}(e)),n.time=r.time,n.date=r.date,n.recurring=r.recurring,n.timezones=(r.timezones||t.discourse_local_dates_default_timezones||"Etc/UTC").split("|").filter(Boolean),n.timezone=r.timezone,n.calendar="on"===(r.calendar||"on"),n.displayedTimezone=r.displayedTimezone,n.format=r.format||(n.time?"LLL":"LL"),n.countdown=r.countdown,n}function v(e){var t={};return t.time=e.attributes["data-time"],t.date=e.attributes["data-date"],t.recurring=e.attributes["data-recurring"],t.timezones=e.attributes["data-timezones"],t.timezone=e.attributes["data-timezone"],t.calendar="on"===(e.attributes["data-calendar"]||"on"),t.displayedTimezone=e.attributes["data-displayed-timezone"],t.format=e.attributes["data-format"],t.countdown=e.attributes["data-countdown"],t}function y(e){return e.parentElement?"true"!==e.dataset.range&&2!==e.parentElement.children.length?[e]:Array.from(e.parentElement.children).filter((function(e){return e.dataset.date})):[]}function g(e){var t=e.container.lookup("site-settings:main"),n=s.default.t("discourse_local_dates.default_title",{site_name:t.title});e.decorateCookedElement((function(e,r){var o,a,i=e.querySelectorAll(".discourse-local-date");p(i,t);var l=null==r||null===(o=r.getModel())||void 0===o||null===(a=o.topic)||void 0===a?void 0:a.title;i.forEach((function(e){e.dataset.title=e.dataset.title||l||n}))}),{id:"discourse-local-date"}),e.onToolbarCreate((function(e){e.addButton({title:"discourse_local_dates.title",id:"local-dates",group:"extras",icon:"calendar-alt",sendAction:function(t){return e.context.send("insertDiscourseLocalDate",t)}})})),e.modifyClass("component:d-editor",{pluginId:"discourse-local-dates",actions:{insertDiscourseLocalDate:function(e){(0,a.default)("discourse-local-dates-create-modal").setProperties({insertDate:function(t){e.addText(t)}})}}}),(0,u.addTextDecorateCallback)((function(e,t,n,r){var o;if(r.discourseLocalDateStartRangeOpts&&null!=t&&null!==(o=t.attributes.class)&&void 0!==o&&o.includes("discourse-local-date")&&"→"===e)return""})),(0,u.addTagDecorateCallback)((function(){var e;if(null!==(e=this.element.attributes.class)&&void 0!==e&&e.includes("discourse-local-date")){if(this.metadata.discourseLocalDateStartRangeOpts){var t=this.metadata.discourseLocalDateStartRangeOpts,n=v(this.element),r=(0,d.default)({date:t.date,time:t.time,format:t.format},n,!0,{date:n.date,time:n.time,format:n.format});return this.prefix=r,this.metadata.discourseLocalDateStartRangeOpts=null,""}if("true"===this.element.attributes["data-range"])return this.metadata.discourseLocalDateStartRangeOpts=v(this.element),"";var o=v(this.element),a=(0,d.default)({date:o.date,time:o.time,format:o.format},o,!1);return this.prefix=a,""}}))}function z(e,t){var n=h(e,t),o=new r.default(n,moment.tz.guess()).build().previews.map((function(e){var t=document.createElement("div");t.classList.add("preview"),e.current&&t.classList.add("current");var n=document.createElement("span");n.classList.add("timezone"),n.innerText=e.timezone,t.appendChild(n);var r=document.createElement("span");return r.classList.add("date-time"),r.innerHTML=e.formatted,t.appendChild(r),t})),a=document.createElement("div");a.classList.add("locale-dates-previews"),o.forEach((function(e){return a.appendChild(e)}));var i=function(e){var t=m(y(e).map((function(e){return e.dataset})),2),n=t[0],r=t[1],o=m(function(e,t){var n,r;n=moment.tz("".concat(e.date," ").concat(e.time||"").trim(),e.timezone),t&&(r=moment.tz("".concat(t.date," ").concat(t.time||"").trim(),t.timezone));return[n,r]}(n,r),2),a=o[0],i=o[1];if(a<moment().tz(n.timezone))return!1;var c=document.createElement("div");c.classList.add("download-calendar"),c.innerHTML="".concat((0,l.renderIcon)("string","file")," ").concat(s.default.t("download_calendar.add_to_calendar")),c.setAttribute("data-starts-at",a.toISOString()),r&&c.setAttribute("data-ends-at",i.toISOString());n.time||r||c.setAttribute("data-ends-at",a.add(24,"hours").toISOString());return c.setAttribute("data-title",n.title),c}(e);return i&&a.appendChild(i),a.outerHTML}Object.defineProperty(e,"__esModule",{value:!0}),e.applyLocalDates=p,e.default=void 0;var b={name:"discourse-local-dates",showDatePopover:function(e){var t,r,o,a,l=(0,n.getOwner)(this);if(!l.isDestroyed&&!l.isDestroying)if(null!=e&&null!==(t=e.target)&&void 0!==t&&null!==(r=t.classList)&&void 0!==r&&r.contains("download-calendar")){var s=e.target.dataset;(0,i.downloadCalendar)(s.title,[{startsAt:s.startsAt,endsAt:s.endsAt}]);var u=e.target.closest("[data-tippy-root]");null!=u&&u._tippy&&u._tippy.hide()}else if(null!=e&&null!==(o=e.target)&&void 0!==o&&null!==(a=o.classList)&&void 0!==a&&a.contains("discourse-local-date")){var d=l.lookup("site-settings:main");(0,c.showPopover)(e,{trigger:"click",content:z(e.target,d),allowHTML:!0,interactive:!0,appendTo:"parent",onHidden:function(e){e.destroy()}})}},hideDatePopover:function(e){(0,c.hidePopover)(e)},initialize:function(e){window.addEventListener("click",this.showDatePopover);var n=e.lookup("site-settings:main");n.discourse_local_dates_enabled&&($.fn.applyLocalDates=function(){return(0,t.default)("`$.applyLocalDates()` is deprecated, import and use `applyLocalDates()` instead."),p(this.toArray(),n)},(0,o.withPluginApi)("0.8.8",g))},teardown:function(){window.removeEventListener("click",this.showDatePopover)}};e.default=b})),define("discourse/plugins/discourse-local-dates/lib/date-with-zone-helper",["exports","@ember/object"],(function(e,t){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.timezone=n.timezone||"UTC",this.localTimezone=n.localTimezone||moment.tz.guess(),this.datetime=moment.tz((0,t.getProperties)(n,["year","month","day","hour","minute","second"]),this.timezone)}var r,i,l;return r=e,l=[{key:"fromDatetime",value:function(t,n,r){return new e({year:t.year(),month:t.month(),day:t.date(),hour:t.hour(),minute:t.minute(),second:t.second(),timezone:n,localTimezone:r})}}],(i=[{key:"isDST",value:function(){return this.datetime.tz(this.localTimezone).isDST()}},{key:"unitRepetitionsBetweenDates",value:function(e,t){var r=n(e.split("."),2),o=r[0],a=r[1],i=Math.abs(this.datetime.diff(t,a,!0)),l=i/o%1;return Math.trunc(i/o)*parseInt(o,10)+(l>0?parseInt(o,10):0)}},{key:"add",value:function(e,t){return this._fromDatetime(this.datetime.clone().add(e,t),this.timezone,this.localTimezone)}},{key:"subtract",value:function(e,t){return this._fromDatetime(this.datetime.clone().subtract(e,t),this.timezone,this.localTimezone)}},{key:"datetimeWithZone",value:function(e){return this.datetime.clone().tz(e)}},{key:"format",value:function(e){return e?this.datetime.tz(this.localTimezone).format(e):this.datetime.tz(this.localTimezone).toISOString(!0)}},{key:"_fromDatetime",value:function(t,n,r){return e.fromDatetime(t,n,r)}}])&&a(r.prototype,i),l&&a(r,l),Object.defineProperty(r,"prototype",{writable:!1}),e}();e.default=i})),define("discourse/plugins/discourse-local-dates/lib/discourse-markdown/discourse-local-dates",["exports","pretty-text/engines/discourse-markdown/bbcode-block"],(function(e,t){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.allowList(["span.discourse-local-date","span[aria-label]","span[data-date]","span[data-time]","span[data-format]","span[data-countdown]","span[data-calendar]","span[data-displayed-timezone]","span[data-timezone]","span[data-timezones]","span[data-recurring]","span[data-email-preview]"]),e.registerOptions((function(e,t){e.datesEmailFormat=t.discourse_local_dates_email_format,e.features["discourse-local-dates"]=!!t.discourse_local_dates_enabled})),e.registerPlugin((function(e){var t={matcher:/\[date(=.+?)\]/,onMatch:l};e.core.textPostProcess.ruler.push("discourse-local-dates",t)})),e.registerPlugin((function(e){var t={matcher:/\[date-range(.+?)\]/,onMatch:s};e.core.textPostProcess.ruler.push("discourse-local-dates",t)}))};var o=moment.tz.names();function a(e,t,n){var r=new t.Token("span_open","span",1);if(r.attrs=[["data-date",t.md.utils.escapeHtml(n.date)]],n.date.match(/\d{4}-\d{2}-\d{2}/))if(!n.time||n.time.match(/\d{2}:\d{2}(?::\d{2})?/)){var a=n.date;if(n.time&&(r.attrs.push(["data-time",t.md.utils.escapeHtml(n.time)]),a="".concat(a," ").concat(n.time)),moment(a).isValid()){if(r.attrs.push(["class","discourse-local-date"]),n.format&&r.attrs.push(["data-format",t.md.utils.escapeHtml(n.format)]),n.countdown&&r.attrs.push(["data-countdown",t.md.utils.escapeHtml(n.countdown)]),n.calendar&&r.attrs.push(["data-calendar",t.md.utils.escapeHtml(n.calendar)]),n.range&&r.attrs.push(["data-range",!0]),n.displayedTimezone&&o.includes(n.displayedTimezone)&&r.attrs.push(["data-displayed-timezone",t.md.utils.escapeHtml(n.displayedTimezone)]),n.timezones){var i=n.timezones.split("|").filter((function(e){return o.includes(e)}));r.attrs.push(["data-timezones",t.md.utils.escapeHtml(i.join("|"))])}n.timezone&&o.includes(n.timezone)?(r.attrs.push(["data-timezone",t.md.utils.escapeHtml(n.timezone)]),a=moment.tz(a,n.timezone)):a=moment.utc(a),n.recurring&&r.attrs.push(["data-recurring",t.md.utils.escapeHtml(n.recurring)]),e.push(r);var l=a.tz("Etc/UTC").format(t.md.options.discourse.datesEmailFormat||moment.defaultFormat);r.attrs.push(["data-email-preview","".concat(l," UTC")]),c(e,t,a.utc().format(n.format))}else c(e,t,moment.invalid().format())}else c(e,t,moment.invalid().format());else c(e,t,moment.invalid().format())}function i(e){var n=e.replace(/‘|’|„|“|«|»|”/g,'"');return(0,t.parseBBCodeTag)("[date date"+n+"]",0,n.length+12)}function l(e,t,n){var r={date:null,time:null,timezone:null,format:null,timezones:null,displayedTimezone:null,countdown:null,range:!1},o=i(t[1]);r.date=o.attrs.date,r.format=o.attrs.format,r.calendar=o.attrs.calendar,r.time=o.attrs.time,r.timezone=(o.attrs.timezone||"").trim(),r.recurring=o.attrs.recurring,r.timezones=o.attrs.timezones,r.displayedTimezone=o.attrs.displayedTimezone,r.countdown=o.attrs.countdown,a(e,n,r)}function s(e,t,r){var o,l,s={date:null,time:null,timezone:null,format:null,timezones:null,displayedTimezone:null,countdown:null,range:!1},u=i(t[1]);if(s.format=u.attrs.format,s.calendar=u.attrs.calendar,s.timezone=(u.attrs.timezone||"").trim(),s.recurring=u.attrs.recurring,s.timezones=u.attrs.timezones,s.displayedTimezone=u.attrs.displayedTimezone,s.countdown=u.attrs.countdown,s.range=u.attrs.from&&u.attrs.to,u.attrs.from){var d=n(u.attrs.from.split("T"),2);o=d[0],l=d[1],s.date=o,s.time=l,a(e,r,s)}if(s.range&&c(e,r,"→"),u.attrs.to){var m=n(u.attrs.to.split("T"),2);o=m[0],l=m[1],s.date=o,s.time=l,a(e,r,s)}}function c(e,t,n){var r;(r=new t.Token("text","",0)).content=n,e.push(r),r=new t.Token("span_close","span",-1),e.push(r)}})),define("discourse/plugins/discourse-local-dates/lib/local-date-builder",["exports","./date-with-zone-helper","I18n","discourse-common/lib/icon-library"],(function(e,t,n,r){"use strict";function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s="LL",c="h:mm A",u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;i(this,e),this.time=t.time,this.date=t.date,this.recurring=t.recurring,this.timezones=Array.from(new Set((t.timezones||[]).filter(Boolean))),this.timezone=t.timezone||"UTC",this.calendar=void 0===t.calendar||t.calendar,this.displayedTimezone=t.displayedTimezone,this.format=t.format||(this.time?"LLL":s),this.countdown=t.countdown,this.duration=t.duration,this.localTimezone=n}var a,u,d;return a=e,(u=[{key:"build",value:function(){var e,n=o(this.date.split("-").map((function(e){return parseInt(e,10)})),3),r=n[0],a=n[1],i=n[2],l=o((this.time||"").split(":").map((function(e){return e?parseInt(e,10):void 0})),3),s=l[0],c=l[1],u=l[2];e=this.time?this.displayedTimezone||this.localTimezone:this.displayedTimezone||this.timezone||this.localTimezone;var d=new t.default({year:r,month:a?a-1:null,day:i,hour:s,minute:c,second:u,timezone:this.timezone,localTimezone:this.localTimezone});if(this.recurring&&moment().isAfter(d.datetime)){var m=this.recurring.split(".")[1],f=d.unitRepetitionsBetweenDates(this.recurring,moment.tz(this.localTimezone));d=d.add(f,m)}var p=this._generatePreviews(d,e);return{pastEvent:!this.recurring&&moment.tz(this.localTimezone).isAfter(d.datetime),formatted:this._applyFormatting(d,e),previews:p,textPreview:this._generateTextPreviews(p)}}},{key:"_generateTextPreviews",value:function(e){var t=this;return e.map((function(e){var n=t._zoneWithoutPrefix(e.timezone);return"".concat(n," ").concat(e.formatted)})).join(", ")}},{key:"_generatePreviews",value:function(e,n){var r=this,o=[],a=this.timezones.filter((function(e){return!r._isEqualZones(e,r.localTimezone)}));return o.push({timezone:this._zoneWithoutPrefix(this.localTimezone),current:!0,formatted:this._createDateTimeRange(t.default.fromDatetime(e.datetime,e.timezone,this.localTimezone),this.time,this.duration)}),!this.timezone||n!==this.localTimezone||this.timezone===n||this._isEqualZones(n,this.timezone)||this.timezones.any((function(e){return r._isEqualZones(e,r.timezone)}))||a.unshift(this.timezone),a.forEach((function(a){r._isEqualZones(a,n)||(r._isEqualZones(a,r.localTimezone)&&(a=r.localTimezone),o.push({timezone:r._zoneWithoutPrefix(a),formatted:r._createDateTimeRange(t.default.fromDatetime(e.datetime,e.timezone,a),r.time,r.duration)}))})),o.uniqBy("timezone")}},{key:"_isEqualZones",value:function(e,t){return!(!(!e&&!t||e&&t)||!e.includes(t)&&!t.includes(e)&&moment.tz(e).utcOffset()!==moment.tz(t).utcOffset())}},{key:"_createDateTimeRange",value:function(e,t,n){var r=o(this._calculateDatesForRange(e,t,n),2),a=r[0],i=r[1],l=[a.format("".concat("dddd",", ").concat(s)),this._optionalTimeIcon(a,i),a.format(c)];return i&&(l=l.concat(["→",i.format(this._endDateFormat(a,i))])),l.filter(Boolean).join(" ")}},{key:"_shortFormat",value:function(e,t){return t.datetime.diff(e.datetime,"days")<1}},{key:"_optionalTimeIcon",value:function(e,t){if(!t||this._shortFormat(e,t))return"<br />".concat((0,r.renderIcon)("string","clock"))}},{key:"_endDateFormat",value:function(e,t){return this._shortFormat(e,t)?c:"LLLL"}},{key:"_calculateDatesForRange",value:function(e,t,n){if(t&&!n)return[e];var r=[e,n?e.add(n,"minutes"):e.add(24,"hours")];return n<0?r.reverse():r}},{key:"_applyFormatting",value:function(e,t){if(this.countdown){var r=moment.tz(this.localTimezone).diff(e.datetime);return r<0?moment.duration(r).humanize():n.default.t("discourse_local_dates.relative_dates.countdown.passed")}var o=this._isEqualZones(t,this.localTimezone);if(this.calendar&&moment.tz(this.localTimezone).isBetween(e.subtract(2,"day").datetime,e.add(1,"day").datetime.endOf("day"))&&o){var a=e.datetimeWithZone(this.localTimezone);return 0===a.hours()&&0===a.minutes()?a.format("dddd"):a.calendar(moment.tz(e.timezone),this._calendarFormats(this.time?this.time:null))}return o?e.format(this.format):this._formatWithZone(e,t,this.format)}},{key:"_calendarFormats",value:function(e){return{sameDay:this._translateCalendarKey(e,"today"),nextDay:this._translateCalendarKey(e,"tomorrow"),lastDay:this._translateCalendarKey(e,"yesterday"),sameElse:"L"}}},{key:"_translateCalendarKey",value:function(e,t){var r=n.default.t("discourse_local_dates.relative_dates.".concat(t),{time:"LT"});return e?r.split("LT").map((function(e){return"[".concat(e,"]")})).join("LT"):"[".concat(r.replace(" LT",""),"]")}},{key:"_formatTimezone",value:function(e){return e.replace("_"," ").replace("Etc/","").split("/")}},{key:"_zoneWithoutPrefix",value:function(e){var t=o(this._formatTimezone(e),2),n=t[0];return t[1]||n}},{key:"_formatWithZone",value:function(e,t,n){var r=e.datetimeWithZone(t).format(n);return"".concat(r," (").concat(this._zoneWithoutPrefix(t),")")}}])&&l(a.prototype,u),d&&l(a,d),Object.defineProperty(a,"prototype",{writable:!1}),e}();e.default=u})),define("discourse/plugins/discourse-local-dates/lib/local-date-markup-generator",["exports","@ember/utils"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,n,r,o){var a="";if(r){var i=[e.date,e.time].filter((function(e){return!(0,t.isEmpty)(e)})).join("T"),l=[o.date,o.time].filter((function(e){return!(0,t.isEmpty)(e)})).join("T");a+="[date-range from=".concat(i," to=").concat(l)}else a+="[date=".concat(e.date);e.time&&!r&&(a+=" time=".concat(e.time));e.format&&e.format.length&&(a+=' format="'.concat(e.format,'"'));n.timezone&&(a+=' timezone="'.concat(n.timezone,'"'));n.countdown&&(a+=' countdown="'.concat(n.countdown,'"'));n.displayedTimezone&&(a+=' displayedTimezone="'.concat(n.displayedTimezone,'"'));n.timezones&&n.timezones.length&&(Array.isArray(n.timezones)?a+=' timezones="'.concat(n.timezones.join("|"),'"'):a+=' timezones="'.concat(n.timezones,'"'));n.recurring&&!r&&(a+=' recurring="'.concat(n.recurring,'"'));return a+="]"}}));
//# sourceMappingURL=discourse-local-dates-31b6acd680ff99fc7ef3120fb25f18eaf3a82a22c35131a1006e9adab7a98e9c.js.map